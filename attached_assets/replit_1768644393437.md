# ShawnCharge - EV Charging Stations App

## Overview
ShawnCharge is a React-based MVP web application for finding EV charging stations in Oman and the GCC region. It features an Arabic-first RTL interface with English language support.

## Recent Changes
- **2026-01-16**: Initial MVP implementation with:
  - Arabic-first RTL support with language toggle
  - OpenStreetMap + Leaflet integration for maps
  - Home page with interactive map and station list
  - Station details with status reporting
  - Add station functionality
  - 10 seed stations in Oman

## Tech Stack
- **Frontend**: React 18, TypeScript, Tailwind CSS, Wouter routing
- **Maps**: Leaflet + React-Leaflet (v4.2.1 for React 18 compatibility)
- **State Management**: TanStack Query
- **Backend**: Express.js with in-memory storage
- **Styling**: Shadcn/ui components with RTL support

## Project Architecture

### Frontend Structure
```
client/src/
├── components/         # Reusable UI components
│   ├── StationCard.tsx    # Station list item
│   ├── StationList.tsx    # Filterable station list
│   ├── StationMap.tsx     # Leaflet map component
│   ├── Filters.tsx        # Search and filter controls
│   ├── Header.tsx         # App header with navigation
│   └── ReportDialog.tsx   # Status report dialog
├── context/            # React contexts
│   ├── LanguageContext.tsx # i18n and RTL support
│   └── LocationContext.tsx # User geolocation
├── lib/                # Utilities
│   ├── i18n.ts            # Translations (AR/EN)
│   ├── geo.ts             # Haversine distance calculation
│   └── queryClient.ts     # TanStack Query setup
├── pages/              # Route pages
│   ├── Home.tsx           # Map + station list
│   ├── StationDetails.tsx # Station info + reports
│   └── AddStation.tsx     # Add new station form
└── App.tsx             # Main app with routing
```

### Backend Structure
```
server/
├── storage.ts          # In-memory storage with seed data
├── routes.ts           # API endpoints
└── index.ts            # Express server setup
```

### Shared
```
shared/
└── schema.ts           # TypeScript types and Zod schemas
```

## API Endpoints
- `GET /api/stations` - List all stations with status
- `GET /api/stations/:id` - Get station details
- `POST /api/stations` - Create new station
- `POST /api/reports` - Submit status report
- `GET /api/stations/:id/reports` - Get station reports

## Data Models

### Station
- id, name, nameAr, operator
- lat, lng (coordinates)
- chargerType (AC/DC), powerKw
- isFree, priceText
- city, cityAr, area, areaAr
- createdAt

### Report
- id, stationId
- status (WORKING/NOT_WORKING)
- reason (BUSY/OUT_OF_SERVICE/ACCESS_ISSUE/NOT_FOUND)
- createdAt

## Running Locally
1. Install dependencies: `npm install`
2. Start dev server: `npm run dev`
3. Open browser to the provided URL

## Features
- Interactive OpenStreetMap with custom markers
- RTL Arabic-first UI with English toggle
- Distance calculation from user location
- Filter by charger type, power, price, status
- Search by city, area, or station name
- Report station status with reasons
- View recent reports timeline

## User Preferences
- Arabic language by default (stored in localStorage)
- Default location: Muscat, Oman (23.5880, 58.3829)
- Uses browser geolocation when available
